<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AR Viewer</title>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body>
  <h1>View 3D Model in AR</h1>
  <button id="arButton">View in AR</button>
  <model-viewer
    id="arViewer"
    src="./UntitledObject.glb" <!-- For Android -->
    ios-src="./UntitledObject.usdz" <!-- For iOS -->
    alt="3D model in AR"
    ar
    ar-modes="scene-viewer quick-look"
    camera-controls
    auto-rotate
    style="display: none;"></model-viewer>

  <script>
    const arButton = document.getElementById('arButton');
    const arViewer = document.getElementById('arViewer');

    arButton.addEventListener('click', () => {
      if (navigator.userAgent.includes("Android")) {
        // Android: Open Scene Viewer
        const sceneViewerUrl = `intent://arvr.google.com/scene-viewer/1.0?file=${encodeURIComponent(
          location.origin + '/UntitledObject.glb'
        )}&mode=ar_only#Intent;scheme=https;package=com.google.ar.core;end;`;
        window.location.href = sceneViewerUrl;
      } else if (navigator.userAgent.includes("iPhone") || navigator.userAgent.includes("iPad")) {
        // iOS: Activate Quick Look
        arViewer.activateAR();
      } else {
        alert("AR is not supported on this device.");
      }
    });
  </script>
</body>
</html>
